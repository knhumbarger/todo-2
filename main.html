<!doctype html>
<html>
<head> 

<h1>To Do</h1>

</head>
<body>
<p>Within the body</p>
<?php
	$db = new mysqli("localhost", "root", "pass1234");

	$r1 = $db->query("CREATE DATABASE IF NOT EXISTS todo;");
	
	$r2 = $db->query("USE todo;");
	echo $r2;
	
	//note: later make priority have specific options
	$r3 = $db->query("CREATE TABLE task(id INTEGER AUTO_INCREMENT, name VARCHAR(15), descr VARCHAR(255), priority ENUM('high', 'medium', 'low'), status ENUM('in progress', 'complete', 'not started'), due_date DATE), PRIMARY KEY(id);");
	//echo $r3;
	
	//for testing purposes
	$r5 = $db->query("INSERT INTO task VALUES('testname', 'test description', 'high', 'in progress', '2018-01-09');");
	//echo $r5;
	
	//started 11:45 PM
	//estimate: 30 min
	//note: fixed an error in create table statement, added a bit of time
	
	$r4 = $db->query("SELECT * FROM task");
	//echo $r4;
	
	//headings
	echo '<form>';
		echo '<input type="text" name="name" value="name">';
		echo '<input type="text" name="descr" value="description">';
		echo '<input type="text" name="priority" value="priority">';
		echo '<input type="text" name="status" value="status">';
		echo '<input type="text" name="due_date" value="due date">';
		echo '</form>';
	
	while ($row = $r4->fetch_array()){
		echo '<form>';
		echo '<input type="text" name="name" value='.$row["name"].'>';
		echo '<input type="text" name="descr" value='.$row["descr"].'>';
		echo '<input type="text" name="priority" value='.$row["priority"].'>';
		echo '<input type="text" name="status" value='.$row["status"].'>';
		echo '<input type="text" name="due_date" value='.$row["due_date"].'>';
		echo '</form>';
	}
?>
</body>
</html>